<!DOCTYPE html>
<html><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script>
  <title>ii.nz</title>
   <link rel="stylesheet"
          href="https://fonts.googleapis.com/css?family=Yeseva+One&family=Noto+Sans">
   <link rel="stylesheet" href='/css/normalize.css' type="text/css"/>
   <link rel="stylesheet" href='/css/variables.css' type="text/css"/>
   <link rel="stylesheet" href='/css/main.css' type="text/css"/>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=DM+Sans:opsz,wght@9..40,500&display=swap" rel="stylesheet">
   <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
  </style>
</head>
<body>
        <body onload="checkDarkMode()">
    <header>
      <nav class="navbar" role="navigation">
        <div class="navbar__left">
          <a href="/" class="nav-logo">
            <img src="/assets/nav-logo.png" id="navLogo" alt="Logo">
          </a>
        </div>
        <div class="navbar__right" id="navbarRight">
          <li>   
            <div class="icon" onclick="toggleIcon()">
              <i class="fas fa-moon" id="toggleMode"></i>
            </div>
          </li>
          <a href="/team">Team</a>
          <a href="/projects">Projects</a>
          <a href="/post">Blog</a>
          <a href="/contact">Contact</a>
        </div>
      </nav>
    </header>
  
    <script>
      function checkDarkMode() {
        var storedMode = localStorage.getItem('darkMode');
        if (storedMode === 'enabled') {
          applyDarkMode();
        }
      }
  
      function toggleIcon() {
        var iconElement = document.getElementById('toggleMode');
     
        if (iconElement.classList.contains('fa-moon')) {
          applyDarkMode();
          localStorage.setItem('darkMode', 'enabled');
        } else {
          removeDarkMode();
          localStorage.setItem('darkMode', 'disabled');
        }
      }
  
      function applyDarkMode() {
        var iconElement = document.getElementById('toggleMode');
        var bg = document.getElementById("content");
        var header = document.getElementsByTagName('header')[0];
        var navbarRight = document.getElementById('navbarRight');
        var headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, b, label,li');
        var logoImage = document.getElementById('navLogo')
        var blogPosts = document.getElementsByClassName('post-list__item');
        var modals = document.getElementsByClassName('modal-content');


        iconElement.classList.remove('fa-moon');
        iconElement.classList.add('fa-sun');
        bg.classList.add('bg-dark');
        header.classList.add('header-dark');
        navbarRight.classList.add("navbar__right--dark");
  
        for (var i = 0; i < headings.length; i++) {
          headings[i].style.color = 'white';
        }
        for(var i = 0; i < blogPosts.length; i++){
            blogPosts[i].classList.add('blog-dark');
        }
        for(var i = 0; i < modals.length; i++){
            modals[i].classList.add('modal-dark');
        }
        logoImage.src = `\/assets\/dark-mode-logo.png`;
      }
  
      function removeDarkMode() {
        var iconElement = document.getElementById('toggleMode');
        var bg = document.getElementById("content");
        var header = document.getElementsByTagName('header')[0];
        var navbarRight = document.getElementById('navbarRight');
        var headings = document.querySelectorAll('h1, h2, h3, h4, h5, h6, p, b, label,li');
        var logoImage = document.getElementById('navLogo')
        var blogPosts = document.getElementsByClassName('post-list__item');
        var modals = document.getElementsByClassName('modal-content');

        
        iconElement.classList.remove('fa-sun');
        iconElement.classList.add('fa-moon');
        bg.classList.remove('bg-dark');
        header.classList.remove('header-dark');
        navbarRight.classList.remove("navbar__right--dark");
        logoImage.src = `\/assets\/nav-logo.png`;
  
        for (var i = 0; i < headings.length; i++) {
          headings[i].style.color = '';
        }
        for(var i = 0; i < blogPosts.length; i++){
            blogPosts[i].classList.remove('blog-dark');
        }
        for(var i = 0; i < modals.length; i++){
            modals[i].classList.remove('modal-dark');
        }

      }
    </script>
  </body>
  
        <main id="content">
<section class="post__entry">
  <article>
    <h1 class="post__title">Flashing hardware with software from the web</h1>
    <div class="post__info">
      <p>By
        
        <span class='post__author'>
          Hippie Hacker
        </span>
        
        ,
        <time>January 4, 2017</time>
      </p>
    </div>
    </div>
    <div class="post__content">
      
<h2 id="its-possible-to-flash-hardware-from-the-web">
  It&rsquo;s possible to flash hardware from the web
  <a class = 'heading-anchor' href="#its-possible-to-flash-hardware-from-the-web">#</a>
</h2>
<p>Getting custom software onto hardware is hard. Particularly if you want people to be able to modify, change, and share that software. It can be as easy visiting a web page, connecting our devices, and loading our customized versions.</p>
<p><a href="http://flash.getchip.com/">flash.getchip.com</a>
uses the <a href="https://chrome.google.com/webstore/detail/chip-flasher/bpohdfcdfghdcgflomadkijfdgalcgoi">C.H.I.P. Flasher
chrome-plugin</a></p>
<p>Most AllWinner <a href="http://linux-sunxi.org/BROM">boot roms</a> detect when a uboot pin
is connected to ground. This forces the devices into <a href="http://linux-sunxi.org/FEL">FEL
mode</a> to support flashing. On the
<a href="https://getchip.com/pages/chip">C.H.I.P.</a>, a physical paperclip can be used to
short the uboot/FEL pin.</p>

<h2 id="a-paperclip-or-jumper-wire-is-used-to-turn-on-write-mode">
  A paperclip or jumper wire is used to turn on write-mode
  <a class = 'heading-anchor' href="#a-paperclip-or-jumper-wire-is-used-to-turn-on-write-mode">#</a>
</h2>
<figure>
<img src="/images/2017/01/uboot_fel_jumper.jpg" />
</figure>
<p>This allows the website + plugin to detect the C.H.I.P. and present valid images for flashing.</p>
<figure>
<img src="/images/2017/01/Flasher-CHIP-Detected.png" />
</figure>
<figure>
<img src="/images/2017/01/Flasher-CHIP-details.png" />
</figure>
<p>The images can be saved to disk and the plugin can be used offline to flash again.</p>
<blockquote>
<p>Flashing will download between 250MB-625MB of data. If you have a slow internet connection, it can take a very long time to finish. If your connection is slow, we recommend that you click on the &ldquo;cloud&rdquo; icon in the upper-right corner of the image you want, and download the file first. You can then use the &ldquo;Choose a file&hellip;&rdquo; option once it&rsquo;s downloaded.</p>
</blockquote>

<h2 id="currently-only-a-few-images-are-available">
  Currently only a few images are available
  <a class = 'heading-anchor' href="#currently-only-a-few-images-are-available">#</a>
</h2>
<figure>
<img src="/images/2017/01/Flasher-CHIP-image-selection-1.png" />
</figure>
<p><strong>However this chrome plugin could be used with any custom OS image build pipeline to deploy directly to hardware from the web!</strong></p>
<p>We&rsquo;ve took <a href="https://github.com/resin-os">resinOS</a> and <a href="https://gitlab.ii.org.nz/iichip/resin-chip/blob/fastbuild/chip.json">ported it to the
C.H.I.P.</a>
and think it would be useful to flash any AllWinner/FEL device directly from
gitlab or other ci automation pipeline web interface.</p>
<figure>
<img src="/images/2017/01/resin-chip-build-1.png" />
</figure>
<p>What if we could replace the <em>Download</em> link with <em>Flash</em> directly?</p>
<figure>
<img src="/images/2017/01/resinos-chip-download.png" />
</figure>

<h2 id="whats-needed">
  What&rsquo;s needed?
  <a class = 'heading-anchor' href="#whats-needed">#</a>
</h2>
<ul>
<li>NextThingCo recently updated their
<a href="https://github.com/NextThingCo/CHIP-buildroot">BuildRoot</a> to <a href="https://bbs.nextthing.co/t/new-chip-sdk-chip-tools-update/12980">use a new
image
format</a>
which we still need to update our <a href="https://gitlab.ii.org.nz/iichip/resin-chip/issues/1">resin port to
C.H.I.P.</a>
to use.</li>
<li>NextThingCo also <a href="https://github.com/NextThingCo/CHIP-SDK/issues/18">doesn&rsquo;t seem to
publish</a> the plugin
source, but <a href="https://gitlab.ii.org.nz/iichip/CHIP-flasher-chromeplugin">we&rsquo;ve pulled it out of the plugin to
analyze</a>.
We have a couple open tickets:
<ul>
<li><a href="https://gitlab.ii.org.nz/iichip/iichip/issues/1">Locate NextThingCo src for CHIP-flasher chrome plugin</a></li>
<li><a href="https://gitlab.ii.org.nz/iichip/sunxi-fel-chrome-extension/issues/1">Build, install, and use the upstream sunxi-fel-chrome-plugin to install firmware to an iiCHIP</a></li>
<li><a href="https://gitlab.ii.org.nz/iichip/iichip/issues/2">Deliver forked CHIP images via a webpage</a>.</li>
</ul>
</li>
</ul>

    </div>
  </article>
  <nav class="back-nav">
  <a href="/post">‚Üê back to posts</a>
  </nav>
</section>

        </main>
        
<footer>
  <div class="footer__left">
  <b class='footer_logo'><a href="/">ii</a></b>
  </div>
  <div class='footer__right'>
  <ul class="contact-details">
 
    <li>   
      <a href="https://github.com/ii">
        <div id="github" class="icon">
            <i class="fab fa-github"></i>
        </div>
        Github
      </a>
    </li>
    <li>
      <a href="https://gitlab.com/ii">
        <div class="icon">
          <i class="fab fa-gitlab"></i>
        </div>
        Gitlab
      </a>
    </li>
    <li>
      <a href="mailto:hello@ii.nz">
        <div class="icon">
          <i class="fas fa-envelope"></i>
      </div>
      Email
      </a>
    </li>
    <li>
      <a href="https://www.linkedin.com/company/99165471/" target="_blank" rel="noopener noreferrer">
        <div class="icon">
          <i class="fab fa-linkedin"></i>
        </div>
        LinkedIn
      </a>
    </li>
    
  </ul>
</footer>
    </body>
</html>